map "http://build.fhir.org/ig/speedykom/tanzania-nhif-zhsf-claims-ig/StructureMap/TZClaimSubmissionToClaim"
  = "TZClaimSubmissionToClaim"

uses "http://build.fhir.org/ig/speedykom/tanzania-nhif-zhsf-claims-ig/StructureDefinition/TZClaimSubmissionRequest"
  as source

uses "http://hl7.org/fhir/StructureDefinition/Claim"
  as target

group TZClaimSubmissionToClaim(
  source src : TZClaimSubmissionRequest,
  target tgt : Claim
) {

  src -> tgt.id = uuid() "SetClaimId";

  src.claimNumber -> tgt.identifier[0].value "MapClaimNumber";
  src.claimType   -> tgt.type.text          "MapClaimType";

  src -> tgt.meta as meta then {
    src -> meta.profile = 'http://build.fhir.org/ig/speedykom/tanzania-nhif-zhsf-claims-ig/StructureDefinition/TZClaim'
  } "SetClaimProfile";

}
